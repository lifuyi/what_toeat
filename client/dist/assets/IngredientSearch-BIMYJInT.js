import{j as e,c as r,B as a}from"./index-BTbxEfEc.js";import{R as t,r as s}from"./recharts-hG-n--Gq.js";import{C as l,a as d}from"./card-OZoNGDSo.js";function n({className:a,type:t,...s}){return e.jsx("input",{type:t,"data-slot":"input",className:r("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...s})}const o=t.memo(({onSearch:r})=>{const[t,o]=s.useState(""),[i,c]=s.useState(!1),m=s.useCallback(async()=>{if(t.trim()){c(!0);try{localStorage.setItem("ingredientSearch",t.trim()),r()}catch(e){}finally{c(!1)}}},[t,r]),b=s.useCallback(e=>{"Enter"===e.key&&m()},[m]),u=s.useCallback(()=>{o(""),localStorage.removeItem("ingredientSearch"),r()},[r]);return e.jsx(l,{className:"mb-6 backdrop-blur-sm border-2 shadow-lg transition-all duration-300 dark:bg-gradient-to-br dark:from-gray-800/90 dark:to-slate-800/90 dark:border-gray-600 bg-gradient-to-br from-green-50/90 to-emerald-50/90 border-emerald-200",children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-center bg-clip-text text-transparent flex items-center justify-center gap-2 dark:bg-gradient-to-r dark:from-emerald-400 dark:to-green-400 bg-gradient-to-r from-emerald-600 to-green-600",children:[e.jsx("span",{className:"text-xl animate-bounce",children:"🥬"}),"食材搜索"]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(n,{type:"text",placeholder:"输入您有的食材，如：番茄、鸡蛋、土豆...",value:t,onChange:e=>o(e.target.value),onKeyPress:b,className:"\n                  pr-10 border-2 rounded-full backdrop-blur-sm transition-all duration-300 focus:shadow-lg\n                  dark:border-gray-600 dark:focus:border-emerald-500 dark:bg-gray-800/90 dark:placeholder:text-emerald-500 dark:text-emerald-300 dark:focus:shadow-emerald-500/20\n                  border-emerald-200 focus:border-emerald-400 bg-white/90 placeholder:text-emerald-400 text-emerald-800 focus:shadow-emerald-200/50\n                ",disabled:i}),t&&e.jsx("button",{onClick:u,className:"\n                    absolute right-3 top-1/2 transform -translate-y-1/2\n                    text-emerald-400 hover:text-emerald-600 transition-colors\n                    w-5 h-5 flex items-center justify-center rounded-full\n                    hover:bg-emerald-100\n                  ",children:"✕"})]}),e.jsx(a,{onClick:m,disabled:!t.trim()||i,className:"\n                bg-gradient-to-r from-emerald-500 to-green-500 \n                hover:from-emerald-600 hover:to-green-600\n                text-white border-0 rounded-full px-6 py-2\n                transition-all duration-300 hover:scale-105 hover:shadow-lg\n                disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\n              ",children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"搜索中..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"🔍"}),"搜索菜品"]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs opacity-80 dark:text-emerald-400 text-emerald-600",children:"💡 输入您现有的食材，我们为您推荐相关菜品"})})]})})})});export{o as IngredientSearch};
