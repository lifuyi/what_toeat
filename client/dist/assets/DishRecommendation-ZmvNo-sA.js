import{b as e,j as t,S as r,c as n,d as o,u as a,a as i}from"./index-BTbxEfEc.js";import{r as s,h as l,i as c,R as d}from"./recharts-hG-n--Gq.js";import{C as u,a as f,b as p,c as m}from"./card-OZoNGDSo.js";import{u as h,P as g,b as v,f as b,a as x,c as y,g as w,d as E,e as N}from"./index-BYOmkHTq.js";
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=e("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),S=o("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function C({className:e,variant:o,asChild:a=!1,...i}){const s=a?r:"span";return t.jsx(s,{"data-slot":"badge",className:n(S({variant:o}),e),...i})}const T=["from-blue-500/10 to-purple-500/10","from-emerald-500/10 to-cyan-500/10","from-orange-500/10 to-red-500/10","from-pink-500/10 to-rose-500/10","from-indigo-500/10 to-blue-500/10","from-lime-500/10 to-green-500/10","from-violet-500/10 to-fuchsia-500/10","from-amber-500/10 to-yellow-500/10","from-teal-500/10 to-emerald-500/10","from-sky-500/10 to-indigo-500/10","from-rose-500/10 to-pink-500/10"],R=["from-blue-500 to-purple-500","from-emerald-500 to-cyan-500","from-orange-500 to-red-500","from-pink-500 to-rose-500","from-indigo-500 to-blue-500","from-lime-500 to-green-500","from-violet-500 to-fuchsia-500","from-amber-500 to-yellow-500","from-teal-500 to-emerald-500","from-sky-500 to-indigo-500","from-rose-500 to-pink-500"],k=s.forwardRef(({dish:e,onClick:r,index:n},o)=>{const a=n%T.length,i=["简单","中等","困难","容易","难"],s=e.tags.filter(e=>!i.includes(e)),l=(c=e.scores.difficulty)<=1?"简单":2===c?"中等":3===c?"困难":"未知";var c;const d={text:l,originalText:l,isDifficulty:!0,isSpecial:!1,color:(e=>{switch(e){case"简单":return"from-green-500 to-green-600";case"中等":return"from-blue-500 to-blue-600";case"困难":return"from-red-500 to-red-600";default:return"from-gray-500 to-gray-600"}})(l)},p=e=>"素食"===e?"from-emerald-300 to-emerald-400 text-emerald-900":"辣"===e?"from-pink-500 to-rose-500":"",m=[d,...s.map(e=>{return{text:(t=e,"辣"===t?"🌶️ 辣":t),originalText:e,isDifficulty:!1,isSpecial:"素食"===e||"辣"===e,color:p(e)};var t})];return t.jsxs(u,{ref:o,className:`\n          cursor-pointer group relative overflow-hidden\n          hover:shadow-2xl hover:shadow-current/20 \n          transition-all duration-300 hover:scale-[1.02] active:scale-[0.98]\n          bg-gradient-to-br ${T[a]}\n          border-2 border-transparent bg-clip-padding\n          dark:hover:shadow-gray-900/40\n        `,onClick:()=>{r&&r()},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${R[a]} opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg`,style:{padding:"2px"},children:t.jsx("div",{className:"rounded-md h-full w-full dark:bg-gray-800 bg-card"})}),t.jsx(f,{className:"relative p-4 z-10",children:t.jsxs("div",{className:"space-y-3",children:[void 0!==e.matchScore&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:`px-2 py-1 rounded-full text-xs bg-gradient-to-r ${R[a]} text-white`,children:["匹配度 ",Math.round(e.matchScore),"%"]}),t.jsx("div",{className:"animate-pulse",children:"⭐"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"line-clamp-1 bg-clip-text text-transparent transition-all duration-300 dark:bg-gradient-to-r dark:from-gray-200 dark:to-gray-400 dark:group-hover:from-purple-400 dark:group-hover:to-blue-400 bg-gradient-to-r from-gray-800 to-gray-600 group-hover:from-purple-600 group-hover:to-blue-600",children:e.name}),t.jsx("p",{className:"text-sm line-clamp-2 mt-1 dark:text-gray-400 text-muted-foreground whitespace-pre-line",children:e.description})]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.slice(0,3).map((e,r)=>t.jsx(C,{variant:"secondary",className:`\n                  text-xs transition-all duration-300 hover:scale-110\n                  bg-gradient-to-r ${e.isDifficulty||e.isSpecial?e.color:R[(a+r)%R.length]} \n                  text-white border-0\n                `,children:e.text},e.text)),m.length>3&&t.jsxs(C,{variant:"outline",className:"text-xs dark:border-gray-600 dark:text-gray-400 border-gray-300",children:["+",m.length-3]})]}),t.jsx("div",{className:"flex justify-between items-center text-sm",children:t.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[t.jsx("span",{className:"animate-pulse",children:"⏱️"}),t.jsx("span",{children:e.cookingTime})]})})]})}),t.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-pink-500 to-violet-500 rounded-full animate-ping"})})]})});k.displayName="DishCard";const D=s.memo(k,(e,t)=>e.dish.id===t.dish.id&&e.dish.matchScore===t.dish.matchScore&&e.index===t.index);var P=l[" useId ".trim().toString()]||(()=>{}),L=0;function _(e){const[t,r]=s.useState(P());return h(()=>{r(e=>e??String(L++))},[e]),e||(t?`radix-${t}`:"")}function O(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var A,M="dismissableLayer.update",I="dismissableLayer.pointerDownOutside",F="dismissableLayer.focusOutside",W=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),z=s.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...u}=e,f=s.useContext(W),[p,m]=s.useState(null),h=(null==p?void 0:p.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,b]=s.useState({}),x=a(r,e=>m(e)),y=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(w),N=p?y.indexOf(p):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,S=N>=E,C=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=O(e),n=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){B(I,r,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,r=[...f.branches].some(e=>e.contains(t));S&&!r&&(null==i||i(e),null==c||c(e),e.defaultPrevented||null==d||d())},h),T=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=O(e),n=s.useRef(!1);return s.useEffect(()=>{const e=e=>{if(e.target&&!n.current){B(F,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...f.branches].some(e=>e.contains(t))||(null==l||l(e),null==c||c(e),e.defaultPrevented||null==d||d())},h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=O(e);s.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{N===f.layers.size-1&&(null==o||o(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},h),s.useEffect(()=>{if(p)return n&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(A=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),U(),()=>{n&&1===f.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=A)}},[p,h,n,f]),s.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),U())},[p,f]),s.useEffect(()=>{const e=()=>b({});return document.addEventListener(M,e),()=>document.removeEventListener(M,e)},[]),t.jsx(g.div,{...u,ref:x,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:v(e.onFocusCapture,T.onFocusCapture),onBlurCapture:v(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:v(e.onPointerDownCapture,C.onPointerDownCapture)})});z.displayName="DismissableLayer";function U(){const e=new CustomEvent(M);document.dispatchEvent(e)}function B(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?b(o,a):o.dispatchEvent(a)}s.forwardRef((e,r)=>{const n=s.useContext(W),o=s.useRef(null),i=a(r,o);return s.useEffect(()=>{const e=o.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),t.jsx(g.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var H="focusScope.autoFocusOnMount",$="focusScope.autoFocusOnUnmount",X={bubbles:!1,cancelable:!0},Y=s.forwardRef((e,r)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=e,[d,u]=s.useState(null),f=O(i),p=O(l),m=s.useRef(null),h=a(r,e=>u(e)),v=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(o){let e=function(e){if(v.paused||!d)return;const t=e.target;d.contains(t)?m.current=t:Z(m.current,{select:!0})},t=function(e){if(v.paused||!d)return;const t=e.relatedTarget;null!==t&&(d.contains(t)||Z(m.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Z(d)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return d&&n.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[o,d,v.paused]),s.useEffect(()=>{if(d){G.add(v);const t=document.activeElement;if(!d.contains(t)){const r=new CustomEvent(H,X);d.addEventListener(H,f),d.dispatchEvent(r),r.defaultPrevented||(!function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Z(n,{select:t}),document.activeElement!==r)return}((e=q(d),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Z(d))}return()=>{d.removeEventListener(H,f),setTimeout(()=>{const e=new CustomEvent($,X);d.addEventListener($,p),d.dispatchEvent(e),e.defaultPrevented||Z(t??document.body,{select:!0}),d.removeEventListener($,p),G.remove(v)},0)}}var e},[d,f,p,v]);const b=s.useCallback(e=>{if(!n&&!o)return;if(v.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[o,a]=function(e){const t=q(e),r=K(t,e),n=K(t.reverse(),e);return[r,n]}(t);o&&a?e.shiftKey||r!==a?e.shiftKey&&r===o&&(e.preventDefault(),n&&Z(a,{select:!0})):(e.preventDefault(),n&&Z(o,{select:!0})):r===t&&e.preventDefault()}},[n,o,v.paused]);return t.jsx(g.div,{tabIndex:-1,...c,ref:h,onKeyDown:b})});function q(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function K(e,t){for(const r of e)if(!V(r,{upTo:t}))return r}function V(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Z(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Y.displayName="FocusScope";var G=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null==r||r.pause()),e=J(e,t),e.unshift(t)},remove(t){var r;e=J(e,t),null==(r=e[0])||r.resume()}}}();function J(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var Q=s.forwardRef((e,r)=>{var n;const{container:o,...a}=e,[i,l]=s.useState(!1);h(()=>l(!0),[]);const d=o||i&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return d?c.createPortal(t.jsx(g.div,{...a,ref:r}),d):null});Q.displayName="Portal";var ee=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=s.useState(),n=s.useRef(null),o=s.useRef(e),a=s.useRef("none"),i=e?"mounted":"unmounted",[l,c]=function(e,t){return s.useReducer((e,r)=>t[e][r]??e,e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const e=te(n.current);a.current="mounted"===l?e:"none"},[l]),h(()=>{const t=n.current,r=o.current;if(r!==e){const n=a.current,i=te(t);if(e)c("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(r&&n!==i?"ANIMATION_OUT":"UNMOUNT")}o.current=e}},[e,c]),h(()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,i=a=>{const i=te(n.current).includes(a.animationName);if(a.target===t&&i&&(c("ANIMATION_END"),!o.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)})}},s=e=>{e.target===t&&(a.current=te(n.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:s.useCallback(e=>{n.current=e?getComputedStyle(e):null,r(e)},[])}}(t),o="function"==typeof r?r({present:n.isPresent}):s.Children.only(r),i=a(n.ref,function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,o=n&&"isReactWarning"in n&&n.isReactWarning;if(o)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,o=n&&"isReactWarning"in n&&n.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(o));return"function"==typeof r||n.isPresent?s.cloneElement(o,{ref:i}):null};function te(e){return(null==e?void 0:e.animationName)||"none"}ee.displayName="Presence";var re=0;function ne(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oe=function(){return oe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)};function ae(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}"function"==typeof SuppressedError&&SuppressedError;var ie="right-scroll-bar-position",se="width-before-scroll-bar";function le(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ce="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,de=new WeakMap;function ue(e,t){var r,n,o,a=(r=null,n=function(t){return e.forEach(function(e){return le(e,t)})},(o=s.useState(function(){return{value:r,callback:n,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}})[0]).callback=n,o.facade);return ce(function(){var t=de.get(a);if(t){var r=new Set(t),n=new Set(e),o=a.current;r.forEach(function(e){n.has(e)||le(e,null)}),n.forEach(function(e){r.has(e)||le(e,o)})}de.set(a,e)},[e]),a}function fe(e){return e}var pe=function(e){var t=e.sideCar,r=ae(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return s.createElement(n,oe({},r))};pe.isSideCarExport=!0;var me=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=fe);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var o=t(e,n);return r.push(o),function(){r=r.filter(function(e){return e!==o})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var o=r;r=[],o.forEach(e),t=r}var a=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}}(null);return t.options=oe({async:!0,ssr:!1},e),t}(),he=function(){},ge=s.forwardRef(function(e,t){var r=s.useRef(null),n=s.useState({onScrollCapture:he,onWheelCapture:he,onTouchMoveCapture:he}),o=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,m=e.noRelative,h=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,x=void 0===b?"div":b,y=e.gapMode,w=ae(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,N=ue([r,t]),j=oe(oe({},w),o);return s.createElement(s.Fragment,null,u&&s.createElement(E,{sideCar:me,removeScrollBar:d,shards:f,noRelative:m,noIsolation:h,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:y}),i?s.cloneElement(s.Children.only(l),oe(oe({},j),{ref:N})):s.createElement(x,oe({},j,{className:c,ref:N}),l))});ge.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ge.classNames={fullWidth:se,zeroRight:ie};function ve(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var be=function(){var e=0,t=null;return{add:function(r){var n,o;0==e&&(t=ve())&&(o=r,(n=t).styleSheet?n.styleSheet.cssText=o:n.appendChild(document.createTextNode(o)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xe=function(){var e,t=(e=be(),function(t,r){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},ye={left:0,top:0,right:0,gap:0},we=function(e){return parseInt(e||"",10)||0},Ee=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ye;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[we(r),we(n),we(o)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ne=xe(),je="data-scroll-locked",Se=function(e,t,r,n){var o=e.left,a=e.top,i=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(je,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ie," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(se," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(ie," .").concat(ie," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(se," .").concat(se," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(je,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Ce=function(){var e=parseInt(document.body.getAttribute(je)||"0",10);return isFinite(e)?e:0},Te=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=void 0===n?"margin":n;s.useEffect(function(){return document.body.setAttribute(je,(Ce()+1).toString()),function(){var e=Ce()-1;e<=0?document.body.removeAttribute(je):document.body.setAttribute(je,e.toString())}},[]);var a=s.useMemo(function(){return Ee(o)},[o]);return s.createElement(Ne,{styles:Se(a,!t,o,r?"":"!important")})},Re=!1;if("undefined"!=typeof window)try{var ke=Object.defineProperty({},"passive",{get:function(){return Re=!0,!0}});window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch(Dr){Re=!1}var De=!!Re&&{passive:!1},Pe=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},Le=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),_e(e,n)){var o=Oe(e,n);if(o[1]>o[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_e=function(e,t){return"v"===e?function(e){return Pe(e,"overflowY")}(t):function(e){return Pe(e,"overflowX")}(t)},Oe=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},Ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Me=function(e){return[e.deltaX,e.deltaY]},Ie=function(e){return e&&"current"in e?e.current:e},Fe=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},We=0,ze=[];function Ue(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Be=(He=function(e){var t=s.useRef([]),r=s.useRef([0,0]),n=s.useRef(),o=s.useState(We++)[0],a=s.useState(xe)[0],i=s.useRef(e);s.useEffect(function(){i.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Ie),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=s.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var o,a=Ae(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var f=Le(u,d);if(!f)return!0;if(f?o=u:(o="v"===u?"h":"v",f=Le(u,d)),!f)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=o),!o)return!0;var p=n.current||o;return function(e,t,r,n){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*n,i=r.target,s=t.contains(i),l=!1,c=a>0,d=0,u=0;do{if(!i)break;var f=Oe(e,i),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&_e(e,i)&&(d+=m,u+=p);var h=i.parentNode;i=h&&h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?h.host:h}while(!s&&i!==document.body||s&&(t.contains(i)||t===i));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(p,t,e,"h"===p?l:c)},[]),c=s.useCallback(function(e){var r=e;if(ze.length&&ze[ze.length-1]===a){var n="deltaY"in r?Me(r):Ae(r),o=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,o=n,t[0]===o[0]&&t[1]===o[1]);var t,o})[0];if(o&&o.should)r.cancelable&&r.preventDefault();else if(!o){var s=(i.current.shards||[]).map(Ie).filter(Boolean).filter(function(e){return e.contains(r.target)});(s.length>0?l(r,s[0]):!i.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),d=s.useCallback(function(e,r,n,o){var a={name:e,delta:r,target:n,should:o,shadowParent:Ue(n)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=s.useCallback(function(e){r.current=Ae(e),n.current=void 0},[]),f=s.useCallback(function(t){d(t.type,Me(t),t.target,l(t,e.lockRef.current))},[]),p=s.useCallback(function(t){d(t.type,Ae(t),t.target,l(t,e.lockRef.current))},[]);s.useEffect(function(){return ze.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,De),document.addEventListener("touchmove",c,De),document.addEventListener("touchstart",u,De),function(){ze=ze.filter(function(e){return e!==a}),document.removeEventListener("wheel",c,De),document.removeEventListener("touchmove",c,De),document.removeEventListener("touchstart",u,De)}},[]);var m=e.removeScrollBar,h=e.inert;return s.createElement(s.Fragment,null,h?s.createElement(a,{styles:Fe(o)}):null,m?s.createElement(Te,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},me.useMedium(He),pe);var He,$e=s.forwardRef(function(e,t){return s.createElement(ge,oe({},e,{ref:t,sideCar:Be}))});$e.classNames=ge.classNames;var Xe=new WeakMap,Ye=new WeakMap,qe={},Ke=0,Ve=function(e){return e&&(e.host||Ve(e.parentNode))},Ze=function(e,t,r,n){var o=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=Ve(t);return r&&e.contains(r)?r:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);qe[r]||(qe[r]=new WeakMap);var a=qe[r],i=[],s=new Set,l=new Set(o),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};o.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))d(e);else try{var t=e.getAttribute(n),o=null!==t&&"false"!==t,l=(Xe.get(e)||0)+1,c=(a.get(e)||0)+1;Xe.set(e,l),a.set(e,c),i.push(e),1===l&&o&&Ye.set(e,!0),1===c&&e.setAttribute(r,"true"),o||e.setAttribute(n,"true")}catch(u){}})};return d(t),s.clear(),Ke++,function(){i.forEach(function(e){var t=Xe.get(e)-1,o=a.get(e)-1;Xe.set(e,t),a.set(e,o),t||(Ye.has(e)||e.removeAttribute(n),Ye.delete(e)),o||e.removeAttribute(r)}),--Ke||(Xe=new WeakMap,Xe=new WeakMap,Ye=new WeakMap,qe={})}},Ge=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Ze(n,o,r,"aria-hidden")):function(){return null}},Je="Dialog",[Qe,et]=y(Je),[tt,rt]=Qe(Je),nt=e=>{const{__scopeDialog:r,children:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=s.useRef(null),d=s.useRef(null),[u,f]=x({prop:o,defaultProp:a??!1,onChange:i,caller:Je});return t.jsx(tt,{scope:r,triggerRef:c,contentRef:d,contentId:_(),titleId:_(),descriptionId:_(),open:u,onOpenChange:f,onOpenToggle:s.useCallback(()=>f(e=>!e),[f]),modal:l,children:n})};nt.displayName=Je;var ot="DialogTrigger";s.forwardRef((e,r)=>{const{__scopeDialog:n,...o}=e,i=rt(ot,n),s=a(r,i.triggerRef);return t.jsx(g.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Nt(i.open),...o,ref:s,onClick:v(e.onClick,i.onOpenToggle)})}).displayName=ot;var at="DialogPortal",[it,st]=Qe(at,{forceMount:void 0}),lt=e=>{const{__scopeDialog:r,forceMount:n,children:o,container:a}=e,i=rt(at,r);return t.jsx(it,{scope:r,forceMount:n,children:s.Children.map(o,e=>t.jsx(ee,{present:n||i.open,children:t.jsx(Q,{asChild:!0,container:a,children:e})}))})};lt.displayName=at;var ct="DialogOverlay",dt=s.forwardRef((e,r)=>{const n=st(ct,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,i=rt(ct,e.__scopeDialog);return i.modal?t.jsx(ee,{present:o||i.open,children:t.jsx(ft,{...a,ref:r})}):null});dt.displayName=ct;var ut=i("DialogOverlay.RemoveScroll"),ft=s.forwardRef((e,r)=>{const{__scopeDialog:n,...o}=e,a=rt(ct,n);return t.jsx($e,{as:ut,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(g.div,{"data-state":Nt(a.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),pt="DialogContent",mt=s.forwardRef((e,r)=>{const n=st(pt,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,i=rt(pt,e.__scopeDialog);return t.jsx(ee,{present:o||i.open,children:i.modal?t.jsx(ht,{...a,ref:r}):t.jsx(gt,{...a,ref:r})})});mt.displayName=pt;var ht=s.forwardRef((e,r)=>{const n=rt(pt,e.__scopeDialog),o=s.useRef(null),i=a(r,n.contentRef,o);return s.useEffect(()=>{const e=o.current;if(e)return Ge(e)},[]),t.jsx(vt,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:v(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:v(e.onFocusOutside,e=>e.preventDefault())})}),gt=s.forwardRef((e,r)=>{const n=rt(pt,e.__scopeDialog),o=s.useRef(!1),a=s.useRef(!1);return t.jsx(vt,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;null==(r=e.onCloseAutoFocus)||r.call(e,t),t.defaultPrevented||(o.current||null==(i=n.triggerRef.current)||i.focus(),t.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:t=>{var r,i;null==(r=e.onInteractOutside)||r.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const s=t.target;(null==(i=n.triggerRef.current)?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),vt=s.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=e,d=rt(pt,n),u=s.useRef(null),f=a(r,u);return s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ne()),document.body.insertAdjacentElement("beforeend",e[1]??ne()),re++,()=>{1===re&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),re--}},[]),t.jsxs(t.Fragment,{children:[t.jsx(Y,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:l,children:t.jsx(z,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Nt(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Tt,{titleId:d.titleId}),t.jsx(Rt,{contentRef:u,descriptionId:d.descriptionId})]})]})}),bt="DialogTitle",xt=s.forwardRef((e,r)=>{const{__scopeDialog:n,...o}=e,a=rt(bt,n);return t.jsx(g.h2,{id:a.titleId,...o,ref:r})});xt.displayName=bt;var yt="DialogDescription";s.forwardRef((e,r)=>{const{__scopeDialog:n,...o}=e,a=rt(yt,n);return t.jsx(g.p,{id:a.descriptionId,...o,ref:r})}).displayName=yt;var wt="DialogClose",Et=s.forwardRef((e,r)=>{const{__scopeDialog:n,...o}=e,a=rt(wt,n);return t.jsx(g.button,{type:"button",...o,ref:r,onClick:v(e.onClick,()=>a.onOpenChange(!1))})});function Nt(e){return e?"open":"closed"}Et.displayName=wt;var jt="DialogTitleWarning",[St,Ct]=w(jt,{contentName:pt,titleName:bt,docsSlug:"dialog"}),Tt=({titleId:e})=>{const t=Ct(jt),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{if(e){document.getElementById(e)}},[r,e]),null},Rt=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ct("DialogDescriptionWarning").contentName}}.`;return s.useEffect(()=>{var r;const n=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[r,e,t]),null},kt=nt,Dt=lt,Pt=dt,Lt=mt,_t=xt,Ot=Et;function At({...e}){return t.jsx(kt,{"data-slot":"dialog",...e})}function Mt({...e}){return t.jsx(Dt,{"data-slot":"dialog-portal",...e})}function It({className:e,...r}){return t.jsx(Pt,{"data-slot":"dialog-overlay",className:n("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function Ft({className:e,children:r,...o}){return t.jsxs(Mt,{"data-slot":"dialog-portal",children:[t.jsx(It,{}),t.jsxs(Lt,{"data-slot":"dialog-content",className:n("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[r,t.jsxs(Ot,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(j,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Wt({className:e,...r}){return t.jsx("div",{"data-slot":"dialog-header",className:n("flex flex-col gap-2 text-center sm:text-left",e),...r})}function zt({className:e,...r}){return t.jsx(_t,{"data-slot":"dialog-title",className:n("text-lg leading-none font-semibold",e),...r})}var Ut="ScrollArea",[Bt,Ht]=y(Ut),[$t,Xt]=Bt(Ut),Yt=s.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:o="hover",dir:i,scrollHideDelay:l=600,...c}=e,[d,u]=s.useState(null),[f,p]=s.useState(null),[m,h]=s.useState(null),[v,b]=s.useState(null),[x,y]=s.useState(null),[w,N]=s.useState(0),[j,S]=s.useState(0),[C,T]=s.useState(!1),[R,k]=s.useState(!1),D=a(r,e=>u(e)),P=E(i);return t.jsx($t,{scope:n,type:o,dir:P,scrollHideDelay:l,scrollArea:d,viewport:f,onViewportChange:p,content:m,onContentChange:h,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:R,onScrollbarYEnabledChange:k,onCornerWidthChange:N,onCornerHeightChange:S,children:t.jsx(g.div,{dir:P,...c,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Yt.displayName=Ut;var qt="ScrollAreaViewport",Kt=s.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:o,nonce:i,...l}=e,c=Xt(qt,n),d=s.useRef(null),u=a(r,d,c.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),t.jsx(g.div,{"data-radix-scroll-area-viewport":"",...l,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});Kt.displayName=qt;var Vt="ScrollAreaScrollbar",Zt=s.forwardRef((e,r)=>{const{forceMount:n,...o}=e,a=Xt(Vt,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,c="horizontal"===e.orientation;return s.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),"hover"===a.type?t.jsx(Gt,{...o,ref:r,forceMount:n}):"scroll"===a.type?t.jsx(Jt,{...o,ref:r,forceMount:n}):"auto"===a.type?t.jsx(Qt,{...o,ref:r,forceMount:n}):"always"===a.type?t.jsx(er,{...o,ref:r}):null});Zt.displayName=Vt;var Gt=s.forwardRef((e,r)=>{const{forceMount:n,...o}=e,a=Xt(Vt,e.__scopeScrollArea),[i,l]=s.useState(!1);return s.useEffect(()=>{const e=a.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),l(!0)},n=()=>{t=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(ee,{present:n||i,children:t.jsx(Qt,{"data-state":i?"visible":"hidden",...o,ref:r})})}),Jt=s.forwardRef((e,r)=>{const{forceMount:n,...o}=e,a=Xt(Vt,e.__scopeScrollArea),i="horizontal"===e.orientation,l=xr(()=>d("SCROLL_END"),100),[c,d]=(u="hidden",f={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},s.useReducer((e,t)=>f[e][t]??e,u));var u,f;return s.useEffect(()=>{if("idle"===c){const e=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(e)}},[c,a.scrollHideDelay,d]),s.useEffect(()=>{const e=a.viewport,t=i?"scrollLeft":"scrollTop";if(e){let r=e[t];const n=()=>{const n=e[t];r!==n&&(d("SCROLL"),l()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[a.viewport,i,d,l]),t.jsx(ee,{present:n||"hidden"!==c,children:t.jsx(er,{"data-state":"hidden"===c?"hidden":"visible",...o,ref:r,onPointerEnter:v(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:v(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Qt=s.forwardRef((e,r)=>{const n=Xt(Vt,e.__scopeScrollArea),{forceMount:o,...a}=e,[i,l]=s.useState(!1),c="horizontal"===e.orientation,d=xr(()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?e:t)}},10);return yr(n.viewport,d),yr(n.content,d),t.jsx(ee,{present:o||i,children:t.jsx(er,{"data-state":i?"visible":"hidden",...a,ref:r})})}),er=s.forwardRef((e,r)=>{const{orientation:n="vertical",...o}=e,a=Xt(Vt,e.__scopeScrollArea),i=s.useRef(null),l=s.useRef(0),[c,d]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=pr(c.viewport,c.content),f={...o,sizes:c,onSizesChange:d,hasThumb:Boolean(u>0&&u<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function p(e,t){return function(e,t,r,n="ltr"){const o=mr(r),a=o/2,i=t||a,s=o-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,u="ltr"===n?[0,d]:[-1*d,0];return gr([l,c],u)(e)}(e,l.current,c,t)}return"horizontal"===n?t.jsx(tr,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const e=hr(a.viewport.scrollLeft,c,a.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}}):"vertical"===n?t.jsx(rr,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const e=hr(a.viewport.scrollTop,c);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}}):null}),tr=s.forwardRef((e,r)=>{const{sizes:n,onSizesChange:o,...i}=e,l=Xt(Vt,e.__scopeScrollArea),[c,d]=s.useState(),u=s.useRef(null),f=a(r,u,l.onScrollbarXChange);return s.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),t.jsx(ar,{"data-orientation":"horizontal",...i,ref:f,sizes:n,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mr(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(l.viewport){const n=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),vr(n,r)&&t.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:fr(c.paddingLeft),paddingEnd:fr(c.paddingRight)}})}})}),rr=s.forwardRef((e,r)=>{const{sizes:n,onSizesChange:o,...i}=e,l=Xt(Vt,e.__scopeScrollArea),[c,d]=s.useState(),u=s.useRef(null),f=a(r,u,l.onScrollbarYChange);return s.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),t.jsx(ar,{"data-orientation":"vertical",...i,ref:f,sizes:n,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mr(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(l.viewport){const n=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),vr(n,r)&&t.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:fr(c.paddingTop),paddingEnd:fr(c.paddingBottom)}})}})}),[nr,or]=Bt(Vt),ar=s.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:i,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:p,onResize:m,...h}=e,b=Xt(Vt,n),[x,y]=s.useState(null),w=a(r,e=>y(e)),E=s.useRef(null),N=s.useRef(""),j=b.viewport,S=o.content-o.viewport,C=O(p),T=O(u),R=xr(m,10);function k(e){if(E.current){const t=e.clientX-E.current.left,r=e.clientY-E.current.top;f({x:t,y:r})}}return s.useEffect(()=>{const e=e=>{const t=e.target;(null==x?void 0:x.contains(t))&&C(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[j,x,S,C]),s.useEffect(T,[o,T]),yr(x,R),yr(b.content,R),t.jsx(nr,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:O(l),onThumbPointerUp:O(c),onThumbPositionChange:T,onThumbPointerDown:O(d),children:t.jsx(g.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:v(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),E.current=x.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),k(e)}}),onPointerMove:v(e.onPointerMove,k),onPointerUp:v(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),ir="ScrollAreaThumb",sr=s.forwardRef((e,r)=>{const{forceMount:n,...o}=e,a=or(ir,e.__scopeScrollArea);return t.jsx(ee,{present:n||a.hasThumb,children:t.jsx(lr,{ref:r,...o})})}),lr=s.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:o,...i}=e,l=Xt(ir,n),c=or(ir,n),{onThumbPositionChange:d}=c,u=a(r,e=>c.onThumbChange(e)),f=s.useRef(void 0),p=xr(()=>{f.current&&(f.current(),f.current=void 0)},100);return s.useEffect(()=>{const e=l.viewport;if(e){const t=()=>{if(p(),!f.current){const t=br(e,d);f.current=t,d()}};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[l.viewport,p,d]),t.jsx(g.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:v(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;c.onThumbPointerDown({x:r,y:n})}),onPointerUp:v(e.onPointerUp,c.onThumbPointerUp)})});sr.displayName=ir;var cr="ScrollAreaCorner",dr=s.forwardRef((e,r)=>{const n=Xt(cr,e.__scopeScrollArea),o=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&o?t.jsx(ur,{...e,ref:r}):null});dr.displayName=cr;var ur=s.forwardRef((e,r)=>{const{__scopeScrollArea:n,...o}=e,a=Xt(cr,n),[i,l]=s.useState(0),[c,d]=s.useState(0),u=Boolean(i&&c);return yr(a.scrollbarX,()=>{var e;const t=(null==(e=a.scrollbarX)?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),d(t)}),yr(a.scrollbarY,()=>{var e;const t=(null==(e=a.scrollbarY)?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),l(t)}),u?t.jsx(g.div,{...o,ref:r,style:{width:i,height:c,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function fr(e){return e?parseInt(e,10):0}function pr(e,t){const r=e/t;return isNaN(r)?0:r}function mr(e){const t=pr(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function hr(e,t,r="ltr"){const n=mr(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,s=a-n,l=N(e,"ltr"===r?[0,i]:[-1*i,0]);return gr([0,i],[0,s])(l)}function gr(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function vr(e,t){return e>0&&e<t}var br=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,s=r.top!==a.top;(i||s)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function xr(e,t){const r=O(e),n=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),s.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function yr(e,t){const r=O(t);h(()=>{let t=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}var wr=Yt,Er=Kt,Nr=dr;function jr({className:e,children:r,...o}){return t.jsxs(wr,{"data-slot":"scroll-area",className:n("relative",e),...o,children:[t.jsx(Er,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),t.jsx(Sr,{}),t.jsx(Nr,{})]})}function Sr({className:e,orientation:r="vertical",...o}){return t.jsx(Zt,{"data-slot":"scroll-area-scrollbar",orientation:r,className:n("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",e),...o,children:t.jsx(sr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Cr({dish:e,isOpen:r,onClose:n}){if(!e)return null;return t.jsx(At,{open:r,onOpenChange:n,children:t.jsxs(Ft,{className:"max-w-[95vw] w-full max-h-[90vh] sm:max-w-3xl bg-gradient-to-br from-white/95 to-blue-50/95 backdrop-blur-sm border-2 border-blue-200",children:[t.jsx(Wt,{className:"pb-4",children:t.jsxs(zt,{className:"text-xl sm:text-2xl bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl animate-bounce",children:"🍽️"}),e.name]})}),t.jsx(jr,{className:"max-h-[70vh] pr-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:t.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:e.description})}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.filter(e=>!["简单","中等","困难","容易","难"].includes(e)).map((e,r)=>t.jsx(C,{className:`\n                      text-sm px-3 py-1 border-0 text-white\n                      ${"素食"===e?"bg-gradient-to-r from-emerald-300 to-emerald-400 text-emerald-900":r%2==0?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-gradient-to-r from-blue-500 to-cyan-500"}\n                    `,children:e},e))}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-green-50 rounded-xl border border-emerald-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-lg animate-pulse",children:"⏱️"}),t.jsx("span",{className:"text-sm text-emerald-700",children:"制作时间"})]}),t.jsx("span",{className:"text-lg bg-gradient-to-r from-emerald-700 to-green-700 bg-clip-text text-transparent",children:e.cookingTime})]}),t.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-lg animate-pulse",children:"🔥"}),t.jsx("span",{className:"text-sm text-orange-700",children:"难度等级"})]}),t.jsx("span",{className:"text-lg bg-gradient-to-r from-orange-700 to-red-700 bg-clip-text text-transparent",children:(o=e.scores.difficulty,o<=1?"简单":2===o?"中等":3===o?"困难":"未知")})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h4",{className:"flex items-center gap-2 text-lg",children:[t.jsx("span",{className:"text-2xl animate-bounce",children:"🥘"}),t.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"所需食材"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:e.ingredients.map((e,r)=>t.jsxs("div",{className:`\n                      flex items-center gap-3 text-sm p-3 rounded-xl border-2 transition-all duration-300 hover:scale-105\n                      ${r%3==0?"bg-gradient-to-r from-blue-50 to-cyan-50 border-blue-200":r%3==1?"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200":"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200"}\n                    `,children:[t.jsx("div",{className:`\n                      w-3 h-3 rounded-full flex-shrink-0\n                      ${r%3==0?"bg-gradient-to-r from-blue-500 to-cyan-500":r%3==1?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-gradient-to-r from-emerald-500 to-green-500"}\n                    `}),t.jsx("span",{className:"text-gray-700",children:e})]},r))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h4",{className:"flex items-center gap-2 text-lg",children:[t.jsx("span",{className:"text-2xl animate-bounce",children:"👨‍🍳"}),t.jsx("span",{className:"bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"制作步骤"})]}),t.jsx("div",{className:"space-y-4",children:e.steps.map((e,r)=>t.jsxs("div",{className:"flex gap-4 p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-300",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full flex items-center justify-center text-sm animate-pulse-color",children:r+1}),t.jsx("p",{className:"pt-1 text-gray-700 leading-relaxed",children:e})]},r))})]})]})})]})});var o}const Tr="http://localhost:3001";async function Rr(e){try{const t=await fetch(`${Tr}/api/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return await async function(){try{const e=await fetch(`${Tr}/api/recipes`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){throw t}}()}}const kr=d.memo(({preferences:e,onPreferencesChange:r,shouldUpdateRadar:n=!1,onRadarUpdated:o,fetchTrigger:a})=>{const[i,l]=s.useState(null),[c,d]=s.useState(!1),[h,g]=s.useState([]),[v,b]=s.useState(!0),[x,y]=s.useState(null),[w,E]=s.useState(null),N=s.useMemo(()=>t=>{const r={healthy:1,simple:1,difficulty:-1,quick:1,vegetarian:1,spicy:1};let n=0;return Object.entries(e).forEach(([e,o])=>{const a=t.scores[e],i=r[e];n+=Math.max(0,10-Math.abs(a-o))*i}),Math.round(n/60*100)},[e]),j=s.useCallback(async()=>{try{b(!0),y(null);const t=localStorage.getItem("ingredientSearch");let r;E(t),r=t?await async function(e){try{const t=await fetch(`${Tr}/api/recipes?query=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(x){throw x}}(t):await Rr(e);const n=r.map(e=>function(e){const t=e.yl?e.yl.split("#").filter(e=>e.trim()):[],r=e.steptext?e.steptext.split("#").filter(e=>e.trim()).map(e=>e.replace(/^\d+\.\s*▲?\s*/,"").trim()):[],n=[];e.素食偏好>=7&&n.push("素食"),e.健康度>=7&&n.push("健康"),e.制作速度>=7&&n.push("快手"),e.辛辣程度>=7&&n.push("辣"),e.制作难易<=3&&n.push("简单"),e.fl&&n.push(e.fl);let o="家常菜";return e.fl?o=e.fl:e.zid&&(o=e.zid),{id:e.id.toString(),name:e.title,description:e.desc||"美味佳肴\n垂涎欲滴",ingredients:t,steps:r,cookingTime:e.costtime||"未知",difficulty:{0:"简单",1:"简单",2:"中等",3:"困难"}[e.difficulty]||"中等",tags:n,category:o,scores:{healthy:e.健康度,simple:10-e.制作难易,difficulty:e.制作难易,quick:e.制作速度,vegetarian:e.素食偏好,spicy:e.辛辣程度}}}(e)).map(e=>({...e,matchScore:t?100:N(e)})).slice(0,12);g(n)}catch(Dr){y("获取推荐菜品失败，请稍后重试"),g([])}finally{b(!1)}},[N]);s.useEffect(()=>{j()},[a]),s.useEffect(()=>{if(h.length>0&&r&&n){const e=h[0],t={healthy:e.scores.healthy,simple:e.scores.simple,difficulty:e.scores.difficulty,quick:e.scores.quick,vegetarian:e.scores.vegetarian,spicy:e.scores.spicy};r(t),o&&o()}},[h,n]);const S=h,C=s.useCallback(e=>{l(e),d(!0)},[]),T=s.useCallback(()=>{d(!1),l(null)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(u,{className:"w-full h-fit backdrop-blur-sm border-2 shadow-xl transition-all duration-300 dark:bg-gradient-to-br dark:from-gray-800/90 dark:to-slate-800/90 dark:border-gray-600 bg-gradient-to-br from-white/90 to-purple-50/90 border-purple-200",children:[t.jsx(p,{className:"pb-4",children:t.jsx(m,{className:"text-center sm:text-left bg-clip-text text-transparent flex items-center gap-2 dark:bg-gradient-to-r dark:from-orange-400 dark:to-red-400 bg-gradient-to-r from-orange-600 to-red-600",children:w?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-2xl animate-bounce",children:"🔍"}),"食材搜索结果",t.jsxs("span",{className:"text-sm bg-clip-text text-transparent dark:bg-gradient-to-r dark:from-emerald-400 dark:to-green-400 bg-gradient-to-r from-emerald-600 to-green-600",children:['"',w,'"']})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-2xl animate-bounce",children:"🎯"}),"专属推荐菜品"]})})}),t.jsx(f,{children:v?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),t.jsx("p",{className:"text-muted-foreground",children:"正在为您推荐美味菜品..."})]})}):x?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"text-4xl",children:"😅"}),t.jsx("p",{className:"text-red-600",children:x}),t.jsx("button",{onClick:j,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"重试"})]})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:S.map((e,r)=>t.jsx(D,{dish:e,onClick:()=>C(e),index:r},e.id))})})]}),t.jsx(Cr,{dish:i,isOpen:c,onClose:T})]})});export{kr as DishRecommendation};
