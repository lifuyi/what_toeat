<view class="container"><view class="header"><text class="title">API连接测试</text><view class="platform-info"><text class="platform-text">{{"当前平台: "+currentPlatform}}</text><text class="platform-text">{{"API地址: "+apiBaseUrl}}</text><text class="platform-text">{{"支持功能: "+$root.g0}}</text></view></view><view class="test-section"><button class="test-btn" disabled="{{testing}}" data-event-opts="{{[['tap',[['testConnection',['$event']]]]]}}" bindtap="__e"><block wx:if="{{testing}}"><text>测试中...</text></block><block wx:else><text>🔗 测试API连接</text></block></button><button class="test-btn" disabled="{{testing}}" data-event-opts="{{[['tap',[['testRecommendations',['$event']]]]]}}" bindtap="__e"><block wx:if="{{testing}}"><text>测试中...</text></block><block wx:else><text>🎯 测试推荐功能</text></block></button><button class="test-btn" disabled="{{testing}}" data-event-opts="{{[['tap',[['testSearch',['$event']]]]]}}" bindtap="__e"><block wx:if="{{testing}}"><text>测试中...</text></block><block wx:else><text>🔍 测试搜索功能</text></block></button><button class="test-btn" disabled="{{testing}}" data-event-opts="{{[['tap',[['testIngredientSearch',['$event']]]]]}}" bindtap="__e"><block wx:if="{{testing}}"><text>测试中...</text></block><block wx:else><text>🥬 测试食材搜索</text></block></button></view><view class="results-section"><text class="results-title">测试结果:</text><scroll-view class="results-scroll" scroll-y="{{true}}"><block wx:for="{{testResults}}" wx:for-item="result" wx:for-index="index" wx:key="index"><view class="result-item"><text class="{{['result-status',result.success?'success':'error']}}">{{''+(result.success?'✅':'❌')+''}}</text><text class="result-text">{{result.message}}</text></view></block></scroll-view></view><block wx:if="{{lastResponse}}"><view class="response-section"><text class="response-title">最新响应数据:</text><scroll-view class="response-scroll" scroll-y="{{true}}"><text class="response-text">{{$root.g1}}</text></scroll-view></view></block></view>