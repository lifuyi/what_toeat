{"version":3,"file":"config.js","sources":["utils/config.js"],"sourcesContent":["// 应用配置文件\nexport const CONFIG = {\n\t// API配置\n\tAPI: {\n\t\t// 开发环境\n\t\tDEV_BASE_URL: 'http://localhost:3001',\n\t\t// 生产环境 (根据实际部署调整)\n\t\tPROD_BASE_URL: 'https://your-production-api.com',\n\t\t// 请求超时时间\n\t\tTIMEOUT: 10000,\n\t\t// 重试次数\n\t\tRETRY_COUNT: 3\n\t},\n\t\n\t// 应用信息\n\tAPP: {\n\t\tNAME: '今天吃什么',\n\t\tVERSION: '1.0.0',\n\t\tDESCRIPTION: 'AI智能美食推荐应用'\n\t},\n\t\n\t// 存储键名\n\tSTORAGE_KEYS: {\n\t\tFAVORITES: 'favorites',\n\t\tINGREDIENT_SEARCH: 'ingredientSearch',\n\t\tUSER_PREFERENCES: 'userPreferences',\n\t\tSEARCH_HISTORY: 'searchHistory'\n\t},\n\t\n\t// 默认偏好设置\n\tDEFAULT_PREFERENCES: {\n\t\thealthy: 5,\n\t\tdifficulty: 2,\n\t\tvegetarian: 5,\n\t\tspicy: 5,\n\t\tsweetness: 5\n\t},\n\t\n\t// 预设配置\n\tPRESETS: [\n\t\t{\n\t\t\tname: '健康达人',\n\t\t\temoji: '🥗',\n\t\t\tdescription: '注重营养均衡',\n\t\t\tpreferences: { healthy: 10, difficulty: 1, vegetarian: 8, spicy: 2, sweetness: 3 }\n\t\t},\n\t\t{\n\t\t\tname: '简单易做',\n\t\t\temoji: '⚡',\n\t\t\tdescription: '制作简单快手',\n\t\t\tpreferences: { healthy: 6, difficulty: 1, vegetarian: 5, spicy: 4, sweetness: 5 }\n\t\t},\n\t\t{\n\t\t\tname: '素食主义',\n\t\t\temoji: '🥬',\n\t\t\tdescription: '纯素食菜品',\n\t\t\tpreferences: { healthy: 9, difficulty: 2, vegetarian: 10, spicy: 3, sweetness: 4 }\n\t\t},\n\t\t{\n\t\t\tname: '重口味',\n\t\t\temoji: '🌶️',\n\t\t\tdescription: '香辣刺激',\n\t\t\tpreferences: { healthy: 4, difficulty: 3, vegetarian: 3, spicy: 10, sweetness: 2 }\n\t\t},\n\t\t{\n\t\t\tname: '精致烹饪',\n\t\t\temoji: '👨‍🍳',\n\t\t\tdescription: '复杂精美菜品',\n\t\t\tpreferences: { healthy: 7, difficulty: 3, vegetarian: 4, spicy: 5, sweetness: 6 }\n\t\t},\n\t\t{\n\t\t\tname: '均衡口味',\n\t\t\temoji: '⚖️',\n\t\t\tdescription: '中等偏好',\n\t\t\tpreferences: { healthy: 5, difficulty: 2, vegetarian: 5, spicy: 5, sweetness: 5 }\n\t\t}\n\t]\n};\n\n// 获取当前环境的API基础URL\nexport function getBaseUrl() {\n\t// #ifdef H5\n\t// H5环境：开发时使用本地服务器，生产时使用线上服务器\n\tif (process.env.NODE_ENV === 'development') {\n\t\treturn CONFIG.API.DEV_BASE_URL;\n\t}\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef MP-WEIXIN\n\t// 微信小程序：必须使用https，需要在微信公众平台配置服务器域名\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef MP-ALIPAY\n\t// 支付宝小程序：必须使用https\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef MP-BAIDU\n\t// 百度小程序：必须使用https\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef MP-TOUTIAO\n\t// 字节跳动小程序：必须使用https\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef MP-QQ\n\t// QQ小程序：必须使用https\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef MP-KUAISHOU\n\t// 快手小程序：必须使用https\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// #ifdef APP-PLUS\n\t// App环境：可以使用http，但生产环境建议使用https\n\tif (process.env.NODE_ENV === 'development') {\n\t\treturn CONFIG.API.DEV_BASE_URL;\n\t}\n\treturn CONFIG.API.PROD_BASE_URL;\n\t// #endif\n\t\n\t// 默认返回开发环境URL\n\treturn CONFIG.API.DEV_BASE_URL;\n}\n\n// 判断是否为开发环境\nexport function isDev() {\n\t// #ifdef H5\n\treturn process.env.NODE_ENV === 'development';\n\t// #endif\n\t\n\t// #ifdef APP-PLUS\n\treturn process.env.NODE_ENV === 'development';\n\t// #endif\n\t\n\t// 小程序环境通常认为是生产环境\n\treturn false;\n}\n\n// 获取当前平台信息\nexport function getPlatform() {\n\t// #ifdef H5\n\treturn 'h5';\n\t// #endif\n\t\n\t// #ifdef MP-WEIXIN\n\treturn 'mp-weixin';\n\t// #endif\n\t\n\t// #ifdef MP-ALIPAY\n\treturn 'mp-alipay';\n\t// #endif\n\t\n\t// #ifdef MP-BAIDU\n\treturn 'mp-baidu';\n\t// #endif\n\t\n\t// #ifdef MP-TOUTIAO\n\treturn 'mp-toutiao';\n\t// #endif\n\t\n\t// #ifdef MP-QQ\n\treturn 'mp-qq';\n\t// #endif\n\t\n\t// #ifdef MP-KUAISHOU\n\treturn 'mp-kuaishou';\n\t// #endif\n\t\n\t// #ifdef APP-PLUS\n\treturn 'app-plus';\n\t// #endif\n\t\n\treturn 'unknown';\n}\n\n// 检查当前平台是否支持某个功能\nexport function checkPlatformSupport(feature) {\n\tconst platform = getPlatform();\n\t\n\tconst supportMatrix = {\n\t\t// 网络请求支持\n\t\t'http': ['h5', 'app-plus'], // 小程序只支持https\n\t\t'https': ['h5', 'mp-weixin', 'mp-alipay', 'mp-baidu', 'mp-toutiao', 'mp-qq', 'mp-kuaishou', 'app-plus'],\n\t\t\n\t\t// 本地存储支持\n\t\t'localStorage': ['h5', 'mp-weixin', 'mp-alipay', 'mp-baidu', 'mp-toutiao', 'mp-qq', 'mp-kuaishou', 'app-plus'],\n\t\t\n\t\t// 位置信息支持\n\t\t'location': ['h5', 'mp-weixin', 'mp-alipay', 'mp-baidu', 'mp-toutiao', 'mp-qq', 'app-plus'],\n\t\t\n\t\t// 分享功能支持\n\t\t'share': ['mp-weixin', 'mp-alipay', 'mp-baidu', 'mp-toutiao', 'mp-qq', 'app-plus'],\n\t\t\n\t\t// 支付功能支持\n\t\t'payment': ['mp-weixin', 'mp-alipay', 'app-plus'],\n\t\t\n\t\t// 摄像头支持\n\t\t'camera': ['h5', 'mp-weixin', 'mp-alipay', 'mp-baidu', 'mp-toutiao', 'mp-qq', 'app-plus']\n\t};\n\t\n\treturn supportMatrix[feature]?.includes(platform) || false;\n}\n\nexport default CONFIG;"],"names":[],"mappings":";AACY,MAAC,SAAS;AAAA;AAAA,EAErB,KAAK;AAAA;AAAA,IAEJ,cAAc;AAAA;AAAA,IAEd,eAAe;AAAA;AAAA,IAEf,SAAS;AAAA;AAAA,IAET,aAAa;AAAA,EACb;AAAA;AAAA,EAGD,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,SAAS;AAAA,IACT,aAAa;AAAA,EACb;AAAA;AAAA,EAGD,cAAc;AAAA,IACb,WAAW;AAAA,IACX,mBAAmB;AAAA,IACnB,kBAAkB;AAAA,IAClB,gBAAgB;AAAA,EAChB;AAAA;AAAA,EAGD,qBAAqB;AAAA,IACpB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,WAAW;AAAA,EACX;AAAA;AAAA,EAGD,SAAS;AAAA,IACR;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa,EAAE,SAAS,IAAI,YAAY,GAAG,YAAY,GAAG,OAAO,GAAG,WAAW,EAAG;AAAA,IAClF;AAAA,IACD;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa,EAAE,SAAS,GAAG,YAAY,GAAG,YAAY,GAAG,OAAO,GAAG,WAAW,EAAG;AAAA,IACjF;AAAA,IACD;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa,EAAE,SAAS,GAAG,YAAY,GAAG,YAAY,IAAI,OAAO,GAAG,WAAW,EAAG;AAAA,IAClF;AAAA,IACD;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa,EAAE,SAAS,GAAG,YAAY,GAAG,YAAY,GAAG,OAAO,IAAI,WAAW,EAAG;AAAA,IAClF;AAAA,IACD;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa,EAAE,SAAS,GAAG,YAAY,GAAG,YAAY,GAAG,OAAO,GAAG,WAAW,EAAG;AAAA,IACjF;AAAA,IACD;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa,EAAE,SAAS,GAAG,YAAY,GAAG,YAAY,GAAG,OAAO,GAAG,WAAW,EAAG;AAAA,IACjF;AAAA,EACD;AACF;AAGO,SAAS,aAAa;AAW5B,SAAO,OAAO,IAAI;AAsCnB;AAiBO,SAAS,cAAc;AAM7B,SAAO;AA4BR;AAGO,SAAS,qBAAqB,SAAS;;AAC7C,QAAM,WAAW;AAEjB,QAAM,gBAAgB;AAAA;AAAA,IAErB,QAAQ,CAAC,MAAM,UAAU;AAAA;AAAA,IACzB,SAAS,CAAC,MAAM,aAAa,aAAa,YAAY,cAAc,SAAS,eAAe,UAAU;AAAA;AAAA,IAGtG,gBAAgB,CAAC,MAAM,aAAa,aAAa,YAAY,cAAc,SAAS,eAAe,UAAU;AAAA;AAAA,IAG7G,YAAY,CAAC,MAAM,aAAa,aAAa,YAAY,cAAc,SAAS,UAAU;AAAA;AAAA,IAG1F,SAAS,CAAC,aAAa,aAAa,YAAY,cAAc,SAAS,UAAU;AAAA;AAAA,IAGjF,WAAW,CAAC,aAAa,aAAa,UAAU;AAAA;AAAA,IAGhD,UAAU,CAAC,MAAM,aAAa,aAAa,YAAY,cAAc,SAAS,UAAU;AAAA,EAC1F;AAEC,WAAO,mBAAc,OAAO,MAArB,mBAAwB,SAAS,cAAa;AACtD;;;;;"}